ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccsgkPsg.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Core/Src/main.c"
  18              		.section	.text.main,"ax",%progbits
  19              		.align	1
  20              		.global	main
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	main:
  26              	.LFB0:
   1:Core/Src/main.c **** #include "init.h"
   2:Core/Src/main.c **** 
   3:Core/Src/main.c **** int main(void) {
  27              		.loc 1 3 16 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 24
  34              		.cfi_offset 4, -24
  35              		.cfi_offset 5, -20
  36              		.cfi_offset 6, -16
  37              		.cfi_offset 7, -12
  38              		.cfi_offset 8, -8
  39              		.cfi_offset 14, -4
   4:Core/Src/main.c ****     Init_RCC();
  40              		.loc 1 4 5 view .LVU1
  41 0004 FFF7FEFF 		bl	Init_RCC
  42              	.LVL0:
   5:Core/Src/main.c ****     Init_GPIO();
  43              		.loc 1 5 5 view .LVU2
  44 0008 FFF7FEFF 		bl	Init_GPIO
  45              	.LVL1:
   6:Core/Src/main.c ****     
   7:Core/Src/main.c ****     uint8_t leds_sequence = 1; // –ù–∞—á–∏–Ω–∞–µ–º —Å 1, —á—Ç–æ–±—ã —Å—Ä–∞–∑—É LED2 –≥–æ—Ä–µ–ª
  46              		.loc 1 7 5 view .LVU3
   8:Core/Src/main.c ****     uint8_t last_btn1 = 1; // PA0
  47              		.loc 1 8 5 view .LVU4
   9:Core/Src/main.c ****     uint8_t last_btn2 = 1; // PC14
  48              		.loc 1 9 5 view .LVU5
  10:Core/Src/main.c ****     
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccsgkPsg.s 			page 2


  11:Core/Src/main.c ****     // –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ - –≤–∫–ª—é—á–∞–µ–º LED2 —Å—Ä–∞–∑—É
  12:Core/Src/main.c ****     GPIOA->BSRR = (1 << (6 + 16)) | (1 << (3 + 16)); // –í—ã–∫–ª—é—á–∞–µ–º LED3 –∏ LED4
  49              		.loc 1 12 5 view .LVU6
  50              		.loc 1 12 17 is_stmt 0 view .LVU7
  51 000c 2D4B     		ldr	r3, .L11
  52 000e 4FF49002 		mov	r2, #4718592
  53 0012 1A61     		str	r2, [r3, #16]
  13:Core/Src/main.c ****     GPIOA->BSRR = (1 << 5); // –í–∫–ª—é—á–∞–µ–º LED2
  54              		.loc 1 13 5 is_stmt 1 view .LVU8
  55              		.loc 1 13 17 is_stmt 0 view .LVU9
  56 0014 2022     		movs	r2, #32
  57 0016 1A61     		str	r2, [r3, #16]
   9:Core/Src/main.c ****     uint8_t last_btn2 = 1; // PC14
  58              		.loc 1 9 13 view .LVU10
  59 0018 0127     		movs	r7, #1
   8:Core/Src/main.c ****     uint8_t last_btn2 = 1; // PC14
  60              		.loc 1 8 13 view .LVU11
  61 001a 3946     		mov	r1, r7
   7:Core/Src/main.c ****     uint8_t last_btn1 = 1; // PA0
  62              		.loc 1 7 13 view .LVU12
  63 001c B846     		mov	r8, r7
  64 001e 21E0     		b	.L9
  65              	.LVL2:
  66              	.L3:
  67              	.LBB2:
  14:Core/Src/main.c **** 
  15:Core/Src/main.c ****     while(1) {
  16:Core/Src/main.c ****         // –ß—Ç–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
  17:Core/Src/main.c ****         uint8_t btn1 = (GPIOA->IDR & (1 << 0)) == 0; // PA0 - –∫–Ω–æ–ø–∫–∞ 1
  18:Core/Src/main.c ****         uint8_t btn2 = (GPIOC->IDR & (1 << 14)) == 0; // PC14 - –∫–Ω–æ–ø–∫–∞ 2
  19:Core/Src/main.c ****         
  20:Core/Src/main.c ****         // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ 1 (PA0) - —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ –∫–Ω–æ–ø–∫–∏
  21:Core/Src/main.c ****         if (btn1 && !last_btn1 && pa0_mode == 0) {
  22:Core/Src/main.c ****             // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à–∞–≥ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (1-4)
  23:Core/Src/main.c ****             leds_sequence++;
  24:Core/Src/main.c ****             if (leds_sequence > 4) {
  25:Core/Src/main.c ****                 leds_sequence = 1;
  26:Core/Src/main.c ****             }
  27:Core/Src/main.c ****             
  28:Core/Src/main.c ****             // –°–Ω–∞—á–∞–ª–∞ –≤—ã–∫–ª—é—á–∞–µ–º –≤—Å–µ —Å–≤–µ—Ç–æ–¥–∏–æ–¥—ã
  29:Core/Src/main.c ****             GPIOA->BSRR = (1 << (5 + 16)) | (1 << (6 + 16)) | (1 << (3 + 16));
  68              		.loc 1 29 13 is_stmt 1 view .LVU13
  69              		.loc 1 29 25 is_stmt 0 view .LVU14
  70 0020 284B     		ldr	r3, .L11
  71 0022 4FF4D002 		mov	r2, #6815744
  72 0026 1A61     		str	r2, [r3, #16]
  30:Core/Src/main.c ****             
  31:Core/Src/main.c ****             // –í–∫–ª—é—á–∞–µ–º —Å–≤–µ—Ç–æ–¥–∏–æ–¥—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–
  32:Core/Src/main.c ****             switch(leds_sequence) {
  73              		.loc 1 32 13 is_stmt 1 view .LVU15
  74 0028 B8F1020F 		cmp	r8, #2
  75 002c 41D0     		beq	.L5
  76              		.loc 1 32 13 is_stmt 0 view .LVU16
  77 002e B8F1030F 		cmp	r8, #3
  78 0032 42D0     		beq	.L6
  79 0034 B8F1010F 		cmp	r8, #1
  80 0038 02D1     		bne	.L7
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccsgkPsg.s 			page 3


  81              	.LVL3:
  82              	.L4:
  33:Core/Src/main.c ****                 case 1: // LED2
  34:Core/Src/main.c ****                     GPIOA->BSRR = (1 << 5);
  83              		.loc 1 34 21 is_stmt 1 view .LVU17
  84              		.loc 1 34 33 is_stmt 0 view .LVU18
  85 003a 224B     		ldr	r3, .L11
  86 003c 2022     		movs	r2, #32
  87 003e 1A61     		str	r2, [r3, #16]
  35:Core/Src/main.c ****                     break;
  88              		.loc 1 35 21 is_stmt 1 view .LVU19
  89              	.L7:
  36:Core/Src/main.c ****                 case 2: // LED2 + LED3
  37:Core/Src/main.c ****                     GPIOA->BSRR = (1 << 5) | (1 << 6);
  38:Core/Src/main.c ****                     break;
  39:Core/Src/main.c ****                 case 3: // LED2 + LED3 + LED4
  40:Core/Src/main.c ****                     GPIOA->BSRR = (1 << 5) | (1 << 6) | (1 << 3);
  41:Core/Src/main.c ****                     break;
  42:Core/Src/main.c ****                 case 4: // –í—Å–µ –≤—ã–∫–ª—é—á–µ–Ω—ã
  43:Core/Src/main.c ****                     // –£–∂–µ –≤—ã–∫–ª—é—á–µ–Ω—ã –≤—ã—à–µ
  44:Core/Src/main.c ****                     break;
  45:Core/Src/main.c ****             }
  46:Core/Src/main.c ****             
  47:Core/Src/main.c ****             delay(10000); // –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∞–Ω—Ç–∏–¥—Ä–µ–±–µ–∑–≥–∞
  90              		.loc 1 47 13 view .LVU20
  91 0040 42F21070 		movw	r0, #10000
  92 0044 FFF7FEFF 		bl	delay
  93              	.LVL4:
  94              	.L2:
  48:Core/Src/main.c ****         }
  49:Core/Src/main.c ****         
  50:Core/Src/main.c ****         // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ 2 (PC14) - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ PA0
  51:Core/Src/main.c ****         if (btn2 && !last_btn2) {
  95              		.loc 1 51 9 view .LVU21
  96              		.loc 1 51 12 is_stmt 0 view .LVU22
  97 0048 34B9     		cbnz	r4, .L8
  98              		.loc 1 51 18 discriminator 1 view .LVU23
  99 004a 2FB9     		cbnz	r7, .L8
  52:Core/Src/main.c ****             toggle_PA0_mode();
 100              		.loc 1 52 13 is_stmt 1 view .LVU24
 101 004c FFF7FEFF 		bl	toggle_PA0_mode
 102              	.LVL5:
  53:Core/Src/main.c ****             
  54:Core/Src/main.c ****             // –ë–ï–ó –º–∏–≥–∞–Ω–∏—è —Å–≤–µ—Ç–æ–¥–∏–æ–¥–∞–º–∏ - –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º
  55:Core/Src/main.c ****             delay(10000);
 103              		.loc 1 55 13 view .LVU25
 104 0050 42F21070 		movw	r0, #10000
 105 0054 FFF7FEFF 		bl	delay
 106              	.LVL6:
 107              	.L8:
  56:Core/Src/main.c ****         }
  57:Core/Src/main.c ****         
  58:Core/Src/main.c ****         last_btn1 = btn1;
 108              		.loc 1 58 9 view .LVU26
  59:Core/Src/main.c ****         last_btn2 = btn2;
 109              		.loc 1 59 9 view .LVU27
  60:Core/Src/main.c ****         delay(10000);
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccsgkPsg.s 			page 4


 110              		.loc 1 60 9 view .LVU28
 111 0058 42F21070 		movw	r0, #10000
 112 005c FFF7FEFF 		bl	delay
 113              	.LVL7:
 114              	.LBE2:
  15:Core/Src/main.c ****         // –ß—Ç–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
 115              		.loc 1 15 10 view .LVU29
 116              	.LBB3:
  59:Core/Src/main.c ****         last_btn2 = btn2;
 117              		.loc 1 59 19 is_stmt 0 view .LVU30
 118 0060 3746     		mov	r7, r6
  58:Core/Src/main.c ****         last_btn2 = btn2;
 119              		.loc 1 58 19 view .LVU31
 120 0062 2946     		mov	r1, r5
 121              	.LVL8:
 122              	.L9:
  58:Core/Src/main.c ****         last_btn2 = btn2;
 123              		.loc 1 58 19 view .LVU32
 124              	.LBE3:
  15:Core/Src/main.c ****         // –ß—Ç–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫
 125              		.loc 1 15 5 is_stmt 1 view .LVU33
 126              	.LBB4:
  17:Core/Src/main.c ****         uint8_t btn2 = (GPIOC->IDR & (1 << 14)) == 0; // PC14 - –∫–Ω–æ–ø–∫–∞ 2
 127              		.loc 1 17 9 view .LVU34
  17:Core/Src/main.c ****         uint8_t btn2 = (GPIOC->IDR & (1 << 14)) == 0; // PC14 - –∫–Ω–æ–ø–∫–∞ 2
 128              		.loc 1 17 30 is_stmt 0 view .LVU35
 129 0064 174B     		ldr	r3, .L11
 130 0066 9B68     		ldr	r3, [r3, #8]
  17:Core/Src/main.c ****         uint8_t btn2 = (GPIOC->IDR & (1 << 14)) == 0; // PC14 - –∫–Ω–æ–ø–∫–∞ 2
 131              		.loc 1 17 48 view .LVU36
 132 0068 13F00103 		ands	r3, r3, #1
 133 006c 0CBF     		ite	eq
 134 006e 0125     		moveq	r5, #1
 135 0070 0025     		movne	r5, #0
 136              	.LVL9:
  18:Core/Src/main.c ****         
 137              		.loc 1 18 9 is_stmt 1 view .LVU37
  18:Core/Src/main.c ****         
 138              		.loc 1 18 30 is_stmt 0 view .LVU38
 139 0072 154A     		ldr	r2, .L11+4
 140 0074 9468     		ldr	r4, [r2, #8]
  18:Core/Src/main.c ****         
 141              		.loc 1 18 49 view .LVU39
 142 0076 14F48044 		ands	r4, r4, #16384
 143 007a 0CBF     		ite	eq
 144 007c 0126     		moveq	r6, #1
 145 007e 0026     		movne	r6, #0
 146              	.LVL10:
  21:Core/Src/main.c ****             // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à–∞–≥ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (1-4)
 147              		.loc 1 21 9 is_stmt 1 view .LVU40
  21:Core/Src/main.c ****             // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à–∞–≥ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (1-4)
 148              		.loc 1 21 12 is_stmt 0 view .LVU41
 149 0080 002B     		cmp	r3, #0
 150 0082 E1D1     		bne	.L2
  21:Core/Src/main.c ****             // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à–∞–≥ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (1-4)
 151              		.loc 1 21 18 discriminator 1 view .LVU42
 152 0084 0029     		cmp	r1, #0
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccsgkPsg.s 			page 5


 153 0086 DFD1     		bne	.L2
  21:Core/Src/main.c ****             // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à–∞–≥ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (1-4)
 154              		.loc 1 21 44 discriminator 2 view .LVU43
 155 0088 104B     		ldr	r3, .L11+8
 156 008a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  21:Core/Src/main.c ****             // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —à–∞–≥ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (1-4)
 157              		.loc 1 21 32 discriminator 2 view .LVU44
 158 008c 002B     		cmp	r3, #0
 159 008e DBD1     		bne	.L2
  23:Core/Src/main.c ****             if (leds_sequence > 4) {
 160              		.loc 1 23 13 is_stmt 1 view .LVU45
  23:Core/Src/main.c ****             if (leds_sequence > 4) {
 161              		.loc 1 23 26 is_stmt 0 view .LVU46
 162 0090 08F10108 		add	r8, r8, #1
 163              	.LVL11:
  23:Core/Src/main.c ****             if (leds_sequence > 4) {
 164              		.loc 1 23 26 view .LVU47
 165 0094 5FFA88F8 		uxtb	r8, r8
 166              	.LVL12:
  24:Core/Src/main.c ****                 leds_sequence = 1;
 167              		.loc 1 24 13 is_stmt 1 view .LVU48
  24:Core/Src/main.c ****                 leds_sequence = 1;
 168              		.loc 1 24 16 is_stmt 0 view .LVU49
 169 0098 B8F1040F 		cmp	r8, #4
 170 009c C0D9     		bls	.L3
  25:Core/Src/main.c ****             }
 171              		.loc 1 25 17 is_stmt 1 view .LVU50
 172              	.LVL13:
  29:Core/Src/main.c ****             
 173              		.loc 1 29 13 view .LVU51
  29:Core/Src/main.c ****             
 174              		.loc 1 29 25 is_stmt 0 view .LVU52
 175 009e 03F18043 		add	r3, r3, #1073741824
 176 00a2 03F58433 		add	r3, r3, #67584
 177 00a6 4FF4D002 		mov	r2, #6815744
 178 00aa 1A61     		str	r2, [r3, #16]
  32:Core/Src/main.c ****                 case 1: // LED2
 179              		.loc 1 32 13 is_stmt 1 view .LVU53
  25:Core/Src/main.c ****             }
 180              		.loc 1 25 31 is_stmt 0 view .LVU54
 181 00ac 4FF00108 		mov	r8, #1
 182 00b0 C3E7     		b	.L4
 183              	.LVL14:
 184              	.L5:
  37:Core/Src/main.c ****                     break;
 185              		.loc 1 37 21 is_stmt 1 view .LVU55
  37:Core/Src/main.c ****                     break;
 186              		.loc 1 37 33 is_stmt 0 view .LVU56
 187 00b2 044B     		ldr	r3, .L11
 188 00b4 6022     		movs	r2, #96
 189 00b6 1A61     		str	r2, [r3, #16]
  38:Core/Src/main.c ****                 case 3: // LED2 + LED3 + LED4
 190              		.loc 1 38 21 is_stmt 1 view .LVU57
 191 00b8 C2E7     		b	.L7
 192              	.L6:
  40:Core/Src/main.c ****                     break;
 193              		.loc 1 40 21 view .LVU58
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccsgkPsg.s 			page 6


  40:Core/Src/main.c ****                     break;
 194              		.loc 1 40 33 is_stmt 0 view .LVU59
 195 00ba 024B     		ldr	r3, .L11
 196 00bc 6822     		movs	r2, #104
 197 00be 1A61     		str	r2, [r3, #16]
  41:Core/Src/main.c ****                 case 4: // –í—Å–µ –≤—ã–∫–ª—é—á–µ–Ω—ã
 198              		.loc 1 41 21 is_stmt 1 view .LVU60
 199 00c0 BEE7     		b	.L7
 200              	.L12:
 201 00c2 00BF     		.align	2
 202              	.L11:
 203 00c4 00080140 		.word	1073809408
 204 00c8 00100140 		.word	1073811456
 205 00cc 00000000 		.word	pa0_mode
 206              	.LBE4:
 207              		.cfi_endproc
 208              	.LFE0:
 210              		.text
 211              	.Letext0:
 212              		.file 2 "D:/Programs/Education/STM32/Tools/Xpack/arm-none-eabi/include/machine/_default_types.h"
 213              		.file 3 "D:/Programs/Education/STM32/Tools/Xpack/arm-none-eabi/include/sys/_stdint.h"
 214              		.file 4 "Core/Inc/init.h"
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccsgkPsg.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\Dmitriy\AppData\Local\Temp\ccsgkPsg.s:19     .text.main:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccsgkPsg.s:25     .text.main:00000000 main
C:\Users\Dmitriy\AppData\Local\Temp\ccsgkPsg.s:203    .text.main:000000c4 $d

UNDEFINED SYMBOLS
Init_RCC
Init_GPIO
delay
toggle_PA0_mode
pa0_mode
