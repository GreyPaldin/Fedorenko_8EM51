ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"init.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Core/Src/init.c"
  18              		.section	.text.Init_RCC,"ax",%progbits
  19              		.align	1
  20              		.global	Init_RCC
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	Init_RCC:
  26              	.LFB0:
   1:Core/Src/init.c **** #include "init.h"
   2:Core/Src/init.c **** 
   3:Core/Src/init.c **** // Глобальные переменные
   4:Core/Src/init.c **** uint8_t pa0_mode = 0; // 0=кнопка, 1=выход
   5:Core/Src/init.c **** 
   6:Core/Src/init.c **** void Init_RCC(void) {
  27              		.loc 1 6 21 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
   7:Core/Src/init.c ****     // Включаем тактирование GPIOA и GPIOC
   8:Core/Src/init.c ****     RCC->APB2ENR |= (1 << 2) | (1 << 4);
  32              		.loc 1 8 5 view .LVU1
  33              		.loc 1 8 8 is_stmt 0 view .LVU2
  34 0000 024A     		ldr	r2, .L2
  35 0002 9369     		ldr	r3, [r2, #24]
  36              		.loc 1 8 18 view .LVU3
  37 0004 43F01403 		orr	r3, r3, #20
  38 0008 9361     		str	r3, [r2, #24]
   9:Core/Src/init.c **** }
  39              		.loc 1 9 1 view .LVU4
  40 000a 7047     		bx	lr
  41              	.L3:
  42              		.align	2
  43              	.L2:
  44 000c 00100240 		.word	1073876992
  45              		.cfi_endproc
  46              	.LFE0:
  48              		.section	.text.Init_GPIO,"ax",%progbits
  49              		.align	1
  50              		.global	Init_GPIO
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s 			page 2


  51              		.syntax unified
  52              		.thumb
  53              		.thumb_func
  55              	Init_GPIO:
  56              	.LFB1:
  10:Core/Src/init.c **** 
  11:Core/Src/init.c **** void Init_GPIO(void) {
  57              		.loc 1 11 22 is_stmt 1 view -0
  58              		.cfi_startproc
  59              		@ args = 0, pretend = 0, frame = 0
  60              		@ frame_needed = 0, uses_anonymous_args = 0
  61              		@ link register save eliminated.
  12:Core/Src/init.c ****     // PA5, PA6, PA3 как выходы (LED2, LED3, LED4)
  13:Core/Src/init.c ****     GPIOA->CRL = (GPIOA->CRL & ~(0xF << 20)) | (0x3 << 20); // PA5 - LED2
  62              		.loc 1 13 5 view .LVU6
  63              		.loc 1 13 24 is_stmt 0 view .LVU7
  64 0000 144B     		ldr	r3, .L5
  65 0002 1A68     		ldr	r2, [r3]
  66              		.loc 1 13 30 view .LVU8
  67 0004 22F47002 		bic	r2, r2, #15728640
  68              		.loc 1 13 46 view .LVU9
  69 0008 42F44012 		orr	r2, r2, #3145728
  70              		.loc 1 13 16 view .LVU10
  71 000c 1A60     		str	r2, [r3]
  14:Core/Src/init.c ****     GPIOA->CRL = (GPIOA->CRL & ~(0xF << 24)) | (0x3 << 24); // PA6 - LED3  
  72              		.loc 1 14 5 is_stmt 1 view .LVU11
  73              		.loc 1 14 24 is_stmt 0 view .LVU12
  74 000e 1A68     		ldr	r2, [r3]
  75              		.loc 1 14 30 view .LVU13
  76 0010 22F07062 		bic	r2, r2, #251658240
  77              		.loc 1 14 46 view .LVU14
  78 0014 42F04072 		orr	r2, r2, #50331648
  79              		.loc 1 14 16 view .LVU15
  80 0018 1A60     		str	r2, [r3]
  15:Core/Src/init.c ****     GPIOA->CRL = (GPIOA->CRL & ~(0xF << 12)) | (0x3 << 12); // PA3 - LED4
  81              		.loc 1 15 5 is_stmt 1 view .LVU16
  82              		.loc 1 15 24 is_stmt 0 view .LVU17
  83 001a 1A68     		ldr	r2, [r3]
  84              		.loc 1 15 30 view .LVU18
  85 001c 22F47042 		bic	r2, r2, #61440
  86              		.loc 1 15 46 view .LVU19
  87 0020 42F44052 		orr	r2, r2, #12288
  88              		.loc 1 15 16 view .LVU20
  89 0024 1A60     		str	r2, [r3]
  16:Core/Src/init.c ****     
  17:Core/Src/init.c ****     // PA0 как вход с подтяжкой (кнопка 1) - PA0 в CRL, биты 0-3
  18:Core/Src/init.c ****     GPIOA->CRL = (GPIOA->CRL & ~(0xF << 0)) | (0x8 << 0);
  90              		.loc 1 18 5 is_stmt 1 view .LVU21
  91              		.loc 1 18 24 is_stmt 0 view .LVU22
  92 0026 1A68     		ldr	r2, [r3]
  93              		.loc 1 18 30 view .LVU23
  94 0028 22F00F02 		bic	r2, r2, #15
  95              		.loc 1 18 45 view .LVU24
  96 002c 42F00802 		orr	r2, r2, #8
  97              		.loc 1 18 16 view .LVU25
  98 0030 1A60     		str	r2, [r3]
  19:Core/Src/init.c ****     GPIOA->ODR |= (1 << 0);
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s 			page 3


  99              		.loc 1 19 5 is_stmt 1 view .LVU26
 100              		.loc 1 19 10 is_stmt 0 view .LVU27
 101 0032 DA68     		ldr	r2, [r3, #12]
 102              		.loc 1 19 16 view .LVU28
 103 0034 42F00102 		orr	r2, r2, #1
 104 0038 DA60     		str	r2, [r3, #12]
  20:Core/Src/init.c ****     
  21:Core/Src/init.c ****     // PC14 как вход с подтяжкой (кнопка 2)
  22:Core/Src/init.c ****     GPIOC->CRH = (GPIOC->CRH & ~(0xF << 24)) | (0x8 << 24);
 105              		.loc 1 22 5 is_stmt 1 view .LVU29
 106              		.loc 1 22 24 is_stmt 0 view .LVU30
 107 003a 074A     		ldr	r2, .L5+4
 108 003c 5368     		ldr	r3, [r2, #4]
 109              		.loc 1 22 30 view .LVU31
 110 003e 23F07063 		bic	r3, r3, #251658240
 111              		.loc 1 22 46 view .LVU32
 112 0042 43F00063 		orr	r3, r3, #134217728
 113              		.loc 1 22 16 view .LVU33
 114 0046 5360     		str	r3, [r2, #4]
  23:Core/Src/init.c ****     GPIOC->ODR |= (1 << 14);
 115              		.loc 1 23 5 is_stmt 1 view .LVU34
 116              		.loc 1 23 10 is_stmt 0 view .LVU35
 117 0048 D368     		ldr	r3, [r2, #12]
 118              		.loc 1 23 16 view .LVU36
 119 004a 43F48043 		orr	r3, r3, #16384
 120 004e D360     		str	r3, [r2, #12]
  24:Core/Src/init.c **** }
 121              		.loc 1 24 1 view .LVU37
 122 0050 7047     		bx	lr
 123              	.L6:
 124 0052 00BF     		.align	2
 125              	.L5:
 126 0054 00080140 		.word	1073809408
 127 0058 00100140 		.word	1073811456
 128              		.cfi_endproc
 129              	.LFE1:
 131              		.section	.text.delay,"ax",%progbits
 132              		.align	1
 133              		.global	delay
 134              		.syntax unified
 135              		.thumb
 136              		.thumb_func
 138              	delay:
 139              	.LVL0:
 140              	.LFB2:
  25:Core/Src/init.c **** 
  26:Core/Src/init.c **** void delay(uint32_t count) {
 141              		.loc 1 26 28 is_stmt 1 view -0
 142              		.cfi_startproc
 143              		@ args = 0, pretend = 0, frame = 8
 144              		@ frame_needed = 0, uses_anonymous_args = 0
 145              		@ link register save eliminated.
 146              		.loc 1 26 28 is_stmt 0 view .LVU39
 147 0000 82B0     		sub	sp, sp, #8
 148              	.LCFI0:
 149              		.cfi_def_cfa_offset 8
  27:Core/Src/init.c ****     for(volatile uint32_t i = 0; i < count; i++);
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s 			page 4


 150              		.loc 1 27 5 is_stmt 1 view .LVU40
 151              	.LBB2:
 152              		.loc 1 27 9 view .LVU41
 153              		.loc 1 27 27 is_stmt 0 view .LVU42
 154 0002 0023     		movs	r3, #0
 155 0004 0193     		str	r3, [sp, #4]
 156              		.loc 1 27 5 view .LVU43
 157 0006 02E0     		b	.L8
 158              	.L9:
 159              		.loc 1 27 46 is_stmt 1 discriminator 3 view .LVU44
 160 0008 019B     		ldr	r3, [sp, #4]
 161 000a 0133     		adds	r3, r3, #1
 162 000c 0193     		str	r3, [sp, #4]
 163              	.L8:
 164              		.loc 1 27 36 discriminator 1 view .LVU45
 165 000e 019B     		ldr	r3, [sp, #4]
 166 0010 8342     		cmp	r3, r0
 167 0012 F9D3     		bcc	.L9
 168              	.LBE2:
  28:Core/Src/init.c **** }
 169              		.loc 1 28 1 is_stmt 0 view .LVU46
 170 0014 02B0     		add	sp, sp, #8
 171              	.LCFI1:
 172              		.cfi_def_cfa_offset 0
 173              		@ sp needed
 174 0016 7047     		bx	lr
 175              		.cfi_endproc
 176              	.LFE2:
 178              		.section	.text.toggle_PA0_mode,"ax",%progbits
 179              		.align	1
 180              		.global	toggle_PA0_mode
 181              		.syntax unified
 182              		.thumb
 183              		.thumb_func
 185              	toggle_PA0_mode:
 186              	.LFB3:
  29:Core/Src/init.c **** 
  30:Core/Src/init.c **** void toggle_PA0_mode(void) {
 187              		.loc 1 30 28 is_stmt 1 view -0
 188              		.cfi_startproc
 189              		@ args = 0, pretend = 0, frame = 0
 190              		@ frame_needed = 0, uses_anonymous_args = 0
 191              		@ link register save eliminated.
  31:Core/Src/init.c ****     if (pa0_mode == 0) {
 192              		.loc 1 31 5 view .LVU48
 193              		.loc 1 31 18 is_stmt 0 view .LVU49
 194 0000 0E4B     		ldr	r3, .L14
 195 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 196              		.loc 1 31 8 view .LVU50
 197 0004 5BB9     		cbnz	r3, .L12
  32:Core/Src/init.c ****         // Переключаем PA0 в режим вывода
  33:Core/Src/init.c ****         GPIOA->CRL = (GPIOA->CRL & ~(0xF << 0)) | (0x3 << 0);
 198              		.loc 1 33 9 is_stmt 1 view .LVU51
 199              		.loc 1 33 28 is_stmt 0 view .LVU52
 200 0006 0E4A     		ldr	r2, .L14+4
 201 0008 1368     		ldr	r3, [r2]
 202              		.loc 1 33 34 view .LVU53
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s 			page 5


 203 000a 23F00F03 		bic	r3, r3, #15
 204              		.loc 1 33 49 view .LVU54
 205 000e 43F00303 		orr	r3, r3, #3
 206              		.loc 1 33 20 view .LVU55
 207 0012 1360     		str	r3, [r2]
  34:Core/Src/init.c ****         GPIOA->BSRR = (1 << 0); // Устанавливаем HIGH
 208              		.loc 1 34 9 is_stmt 1 view .LVU56
 209              		.loc 1 34 21 is_stmt 0 view .LVU57
 210 0014 0123     		movs	r3, #1
 211 0016 1361     		str	r3, [r2, #16]
  35:Core/Src/init.c ****         pa0_mode = 1;
 212              		.loc 1 35 9 is_stmt 1 view .LVU58
 213              		.loc 1 35 18 is_stmt 0 view .LVU59
 214 0018 084A     		ldr	r2, .L14
 215 001a 1370     		strb	r3, [r2]
 216 001c 7047     		bx	lr
 217              	.L12:
  36:Core/Src/init.c ****     } else {
  37:Core/Src/init.c ****         // Переключаем PA0 в режим входа (кнопка)
  38:Core/Src/init.c ****         GPIOA->CRL = (GPIOA->CRL & ~(0xF << 0)) | (0x8 << 0);
 218              		.loc 1 38 9 is_stmt 1 view .LVU60
 219              		.loc 1 38 28 is_stmt 0 view .LVU61
 220 001e 084A     		ldr	r2, .L14+4
 221 0020 1368     		ldr	r3, [r2]
 222              		.loc 1 38 34 view .LVU62
 223 0022 23F00F03 		bic	r3, r3, #15
 224              		.loc 1 38 49 view .LVU63
 225 0026 43F00803 		orr	r3, r3, #8
 226              		.loc 1 38 20 view .LVU64
 227 002a 1360     		str	r3, [r2]
  39:Core/Src/init.c ****         GPIOA->ODR |= (1 << 0); // Включаем подтяжку вверх
 228              		.loc 1 39 9 is_stmt 1 view .LVU65
 229              		.loc 1 39 14 is_stmt 0 view .LVU66
 230 002c D368     		ldr	r3, [r2, #12]
 231              		.loc 1 39 20 view .LVU67
 232 002e 43F00103 		orr	r3, r3, #1
 233 0032 D360     		str	r3, [r2, #12]
  40:Core/Src/init.c ****         pa0_mode = 0;
 234              		.loc 1 40 9 is_stmt 1 view .LVU68
 235              		.loc 1 40 18 is_stmt 0 view .LVU69
 236 0034 014B     		ldr	r3, .L14
 237 0036 0022     		movs	r2, #0
 238 0038 1A70     		strb	r2, [r3]
  41:Core/Src/init.c ****     }
  42:Core/Src/init.c **** }...
 239              		.loc 1 42 1 view .LVU70
 240 003a 7047     		bx	lr
 241              	.L15:
 242              		.align	2
 243              	.L14:
 244 003c 00000000 		.word	pa0_mode
 245 0040 00080140 		.word	1073809408
 246              		.cfi_endproc
 247              	.LFE3:
 249              		.global	pa0_mode
 250              		.section	.bss.pa0_mode,"aw",%nobits
 253              	pa0_mode:
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s 			page 6


 254 0000 00       		.space	1
 255              		.text
 256              	.Letext0:
 257              		.file 2 "D:/Programs/Education/STM32/Tools/Xpack/arm-none-eabi/include/machine/_default_types.h"
 258              		.file 3 "D:/Programs/Education/STM32/Tools/Xpack/arm-none-eabi/include/sys/_stdint.h"
 259              		.file 4 "Core/Inc/init.h"
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 init.c
C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s:19     .text.Init_RCC:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s:25     .text.Init_RCC:00000000 Init_RCC
C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s:44     .text.Init_RCC:0000000c $d
C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s:49     .text.Init_GPIO:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s:55     .text.Init_GPIO:00000000 Init_GPIO
C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s:126    .text.Init_GPIO:00000054 $d
C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s:132    .text.delay:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s:138    .text.delay:00000000 delay
C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s:179    .text.toggle_PA0_mode:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s:185    .text.toggle_PA0_mode:00000000 toggle_PA0_mode
C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s:244    .text.toggle_PA0_mode:0000003c $d
C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s:253    .bss.pa0_mode:00000000 pa0_mode
C:\Users\Dmitriy\AppData\Local\Temp\ccH2Bvnf.s:254    .bss.pa0_mode:00000000 $d

NO UNDEFINED SYMBOLS
