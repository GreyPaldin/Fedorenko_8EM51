ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"init.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Core/Src/init.c"
  18              		.section	.text.GPIO_Init,"ax",%progbits
  19              		.align	1
  20              		.global	GPIO_Init
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	GPIO_Init:
  26              	.LFB0:
   1:Core/Src/init.c **** #include "init.h"
   2:Core/Src/init.c **** 
   3:Core/Src/init.c **** // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
   4:Core/Src/init.c **** uint8_t pa0_mode = 0; // 0 - –∫–Ω–æ–ø–∫–∞, 1 - –≤—ã—Ö–æ–¥
   5:Core/Src/init.c **** 
   6:Core/Src/init.c **** void GPIO_Init(void) {
  27              		.loc 1 6 22 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
   7:Core/Src/init.c ****     // 1. –í–∫–ª—é—á–∞–µ–º —Ç–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ GPIOA –∏ GPIOC - –†–ê–ó–õ–û–ñ–ï–ù–ù–´–ï –†–ï–ì–
   8:Core/Src/init.c ****     // RCC_APB2ENR = PERIPH_BASE + AHBPERIPH_BASE + RCC_BASE + APB2ENR_offset
   9:Core/Src/init.c ****     // = 0x40000000 + 0x00020000 + 0x00001000 + 0x00000018 = 0x40021018
  10:Core/Src/init.c ****     *(volatile uint32_t*)(0x40000000U + 0x00020000U + 0x00001000U + 0x00000018U) |= (1 << 2) | (1 <
  32              		.loc 1 10 5 view .LVU1
  33 0000 274A     		ldr	r2, .L2
  34 0002 9369     		ldr	r3, [r2, #24]
  35              		.loc 1 10 82 is_stmt 0 view .LVU2
  36 0004 43F01403 		orr	r3, r3, #20
  37 0008 9361     		str	r3, [r2, #24]
  11:Core/Src/init.c ****     
  12:Core/Src/init.c ****     // 2. PA2 (LED1) - –†–ê–ó–õ–û–ñ–ï–ù–ù–´–ï –†–ï–ì–ò–°–¢–†–´ –ë–ï–ó –ú–ê–ö–†–û–°–û–í
  13:Core/Src/init.c ****     // GPIOA_CRL = PERIPH_BASE + APB2PERIPH_BASE + GPIOA_BASE + CRL_offset
  14:Core/Src/init.c ****     // = 0x40000000 + 0x00010000 + 0x00000800 + 0x00000000 = 0x40010800
  15:Core/Src/init.c ****     *(volatile uint32_t*)(0x40000000U + 0x00010000U + 0x00000800U + 0x00000000U) = 
  38              		.loc 1 15 5 is_stmt 1 view .LVU3
  16:Core/Src/init.c ****         (*(volatile uint32_t*)(0x40000000U + 0x00010000U + 0x00000800U + 0x00000000U) & ~(0xF << 8)
  39              		.loc 1 16 10 is_stmt 0 view .LVU4
  40 000a 264B     		ldr	r3, .L2+4
  41 000c D3F80028 		ldr	r2, [r3, #2048]
  42              		.loc 1 16 87 view .LVU5
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s 			page 2


  43 0010 22F47062 		bic	r2, r2, #3840
  44              		.loc 1 16 102 view .LVU6
  45 0014 42F44072 		orr	r2, r2, #768
  15:Core/Src/init.c ****         (*(volatile uint32_t*)(0x40000000U + 0x00010000U + 0x00000800U + 0x00000000U) & ~(0xF << 8)
  46              		.loc 1 15 82 view .LVU7
  47 0018 C3F80028 		str	r2, [r3, #2048]
  17:Core/Src/init.c ****     
  18:Core/Src/init.c ****     // 3. PA5 (LED2) - —á–µ—Ä–µ–∑ —Ä—É—á–Ω—ã–µ –º–∞–∫—Ä–æ—Å—ã
  19:Core/Src/init.c ****     GPIOA_CRL = (GPIOA_CRL & GPIOA_MODE_PA5_MASK) | GPIOA_MODE_PA5_OUT;
  48              		.loc 1 19 5 is_stmt 1 view .LVU8
  49              		.loc 1 19 18 is_stmt 0 view .LVU9
  50 001c D3F80028 		ldr	r2, [r3, #2048]
  51              		.loc 1 19 28 view .LVU10
  52 0020 22F47002 		bic	r2, r2, #15728640
  53              		.loc 1 19 51 view .LVU11
  54 0024 42F44012 		orr	r2, r2, #3145728
  55              		.loc 1 19 15 view .LVU12
  56 0028 C3F80028 		str	r2, [r3, #2048]
  20:Core/Src/init.c ****     
  21:Core/Src/init.c ****     // 4. PA6 (LED3) - —á–µ—Ä–µ–∑ —Ä—É—á–Ω—ã–µ –º–∞–∫—Ä–æ—Å—ã
  22:Core/Src/init.c ****     GPIOA_CRL = (GPIOA_CRL & GPIOA_MODE_PA6_MASK) | GPIOA_MODE_PA6_OUT;
  57              		.loc 1 22 5 is_stmt 1 view .LVU13
  58              		.loc 1 22 18 is_stmt 0 view .LVU14
  59 002c D3F80028 		ldr	r2, [r3, #2048]
  60              		.loc 1 22 28 view .LVU15
  61 0030 22F07062 		bic	r2, r2, #251658240
  62              		.loc 1 22 51 view .LVU16
  63 0034 42F04072 		orr	r2, r2, #50331648
  64              		.loc 1 22 15 view .LVU17
  65 0038 C3F80028 		str	r2, [r3, #2048]
  23:Core/Src/init.c ****     
  24:Core/Src/init.c ****     // 5. PA3 (LED4) - —á–µ—Ä–µ–∑ —Ä—É—á–Ω—ã–µ –º–∞–∫—Ä–æ—Å—ã
  25:Core/Src/init.c ****     GPIOA_CRL = (GPIOA_CRL & GPIOA_MODE_PA3_MASK) | GPIOA_MODE_PA3_OUT;
  66              		.loc 1 25 5 is_stmt 1 view .LVU18
  67              		.loc 1 25 18 is_stmt 0 view .LVU19
  68 003c D3F80028 		ldr	r2, [r3, #2048]
  69              		.loc 1 25 28 view .LVU20
  70 0040 22F47042 		bic	r2, r2, #61440
  71              		.loc 1 25 51 view .LVU21
  72 0044 42F44052 		orr	r2, r2, #12288
  73              		.loc 1 25 15 view .LVU22
  74 0048 C3F80028 		str	r2, [r3, #2048]
  26:Core/Src/init.c ****     
  27:Core/Src/init.c ****     // 6. PA0 (–ö–Ω–æ–ø–∫–∞ 1) - —á–µ—Ä–µ–∑ —Ä—É—á–Ω—ã–µ –º–∞–∫—Ä–æ—Å—ã
  28:Core/Src/init.c ****     GPIOA_CRL = (GPIOA_CRL & GPIOA_MODE_PA0_MASK) | GPIOA_MODE_PA0_INPUT;
  75              		.loc 1 28 5 is_stmt 1 view .LVU23
  76              		.loc 1 28 18 is_stmt 0 view .LVU24
  77 004c D3F80028 		ldr	r2, [r3, #2048]
  78              		.loc 1 28 28 view .LVU25
  79 0050 22F00F02 		bic	r2, r2, #15
  80              		.loc 1 28 51 view .LVU26
  81 0054 42F00802 		orr	r2, r2, #8
  82              		.loc 1 28 15 view .LVU27
  83 0058 C3F80028 		str	r2, [r3, #2048]
  29:Core/Src/init.c ****     SET_BIT(GPIOA_ODR, GPIOA_PULLUP_PA0);
  84              		.loc 1 29 5 is_stmt 1 view .LVU28
  85 005c D3F80C28 		ldr	r2, [r3, #2060]
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s 			page 3


  86 0060 42F00102 		orr	r2, r2, #1
  87 0064 C3F80C28 		str	r2, [r3, #2060]
  30:Core/Src/init.c ****     
  31:Core/Src/init.c ****     // 7. PC14 (–ö–Ω–æ–ø–∫–∞ 2) - —á–µ—Ä–µ–∑ —Ä—É—á–Ω—ã–µ –º–∞–∫—Ä–æ—Å—ã
  32:Core/Src/init.c ****     GPIOC_CRH = (GPIOC_CRH & GPIOC_MODE_PC14_MASK) | GPIOC_MODE_PC14_INPUT;
  88              		.loc 1 32 5 view .LVU29
  89              		.loc 1 32 18 is_stmt 0 view .LVU30
  90 0068 0F49     		ldr	r1, .L2+8
  91 006a 4A68     		ldr	r2, [r1, #4]
  92              		.loc 1 32 28 view .LVU31
  93 006c 22F07062 		bic	r2, r2, #251658240
  94              		.loc 1 32 52 view .LVU32
  95 0070 42F00062 		orr	r2, r2, #134217728
  96              		.loc 1 32 15 view .LVU33
  97 0074 4A60     		str	r2, [r1, #4]
  33:Core/Src/init.c ****     SET_BIT(GPIOC_ODR, GPIOC_PULLUP_PC14);
  98              		.loc 1 33 5 is_stmt 1 view .LVU34
  99 0076 CA68     		ldr	r2, [r1, #12]
 100 0078 42F48042 		orr	r2, r2, #16384
 101 007c CA60     		str	r2, [r1, #12]
  34:Core/Src/init.c ****     
  35:Core/Src/init.c ****     // 8. –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ - –≤—Å–µ —Å–≤–µ—Ç–æ–¥–∏–æ–¥—ã –≤—ã–∫–ª—é—á–µ–Ω—ã
  36:Core/Src/init.c ****     GPIOA_BSRR = GPIOA_BSRR_PA2_RESET;  // –í—ã–∫–ª PA2 (—á–µ—Ä–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä—ã)
 102              		.loc 1 36 5 view .LVU35
 103              		.loc 1 36 16 is_stmt 0 view .LVU36
 104 007e 4FF48022 		mov	r2, #262144
 105 0082 C3F81028 		str	r2, [r3, #2064]
  37:Core/Src/init.c ****     GPIOA_BSRR = GPIOA_BSRR_PA5_RESET;  // –í—ã–∫–ª PA5
 106              		.loc 1 37 5 is_stmt 1 view .LVU37
 107              		.loc 1 37 16 is_stmt 0 view .LVU38
 108 0086 4FF40012 		mov	r2, #2097152
 109 008a C3F81028 		str	r2, [r3, #2064]
  38:Core/Src/init.c ****     GPIOA_BSRR = GPIOA_BSRR_PA6_RESET;  // –í—ã–∫–ª PA6  
 110              		.loc 1 38 5 is_stmt 1 view .LVU39
 111              		.loc 1 38 16 is_stmt 0 view .LVU40
 112 008e 4FF48002 		mov	r2, #4194304
 113 0092 C3F81028 		str	r2, [r3, #2064]
  39:Core/Src/init.c ****     GPIOA_BSRR = GPIOA_BSRR_PA3_RESET;  // –í—ã–∫–ª PA3
 114              		.loc 1 39 5 is_stmt 1 view .LVU41
 115              		.loc 1 39 16 is_stmt 0 view .LVU42
 116 0096 4FF40022 		mov	r2, #524288
 117 009a C3F81028 		str	r2, [r3, #2064]
  40:Core/Src/init.c **** }
 118              		.loc 1 40 1 view .LVU43
 119 009e 7047     		bx	lr
 120              	.L3:
 121              		.align	2
 122              	.L2:
 123 00a0 00100240 		.word	1073876992
 124 00a4 00000140 		.word	1073807360
 125 00a8 00100140 		.word	1073811456
 126              		.cfi_endproc
 127              	.LFE0:
 129              		.section	.text.delay,"ax",%progbits
 130              		.align	1
 131              		.global	delay
 132              		.syntax unified
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s 			page 4


 133              		.thumb
 134              		.thumb_func
 136              	delay:
 137              	.LVL0:
 138              	.LFB1:
  41:Core/Src/init.c **** 
  42:Core/Src/init.c **** void delay(uint32_t count) {
 139              		.loc 1 42 28 is_stmt 1 view -0
 140              		.cfi_startproc
 141              		@ args = 0, pretend = 0, frame = 8
 142              		@ frame_needed = 0, uses_anonymous_args = 0
 143              		@ link register save eliminated.
 144              		.loc 1 42 28 is_stmt 0 view .LVU45
 145 0000 82B0     		sub	sp, sp, #8
 146              	.LCFI0:
 147              		.cfi_def_cfa_offset 8
  43:Core/Src/init.c ****     for(volatile uint32_t i = 0; i < count; i++);
 148              		.loc 1 43 5 is_stmt 1 view .LVU46
 149              	.LBB2:
 150              		.loc 1 43 9 view .LVU47
 151              		.loc 1 43 27 is_stmt 0 view .LVU48
 152 0002 0023     		movs	r3, #0
 153 0004 0193     		str	r3, [sp, #4]
 154              		.loc 1 43 5 view .LVU49
 155 0006 02E0     		b	.L5
 156              	.L6:
 157              		.loc 1 43 46 is_stmt 1 discriminator 3 view .LVU50
 158 0008 019B     		ldr	r3, [sp, #4]
 159 000a 0133     		adds	r3, r3, #1
 160 000c 0193     		str	r3, [sp, #4]
 161              	.L5:
 162              		.loc 1 43 36 discriminator 1 view .LVU51
 163 000e 019B     		ldr	r3, [sp, #4]
 164 0010 8342     		cmp	r3, r0
 165 0012 F9D3     		bcc	.L6
 166              	.LBE2:
  44:Core/Src/init.c **** }
 167              		.loc 1 44 1 is_stmt 0 view .LVU52
 168 0014 02B0     		add	sp, sp, #8
 169              	.LCFI1:
 170              		.cfi_def_cfa_offset 0
 171              		@ sp needed
 172 0016 7047     		bx	lr
 173              		.cfi_endproc
 174              	.LFE1:
 176              		.section	.text.toggle_PA0_mode,"ax",%progbits
 177              		.align	1
 178              		.global	toggle_PA0_mode
 179              		.syntax unified
 180              		.thumb
 181              		.thumb_func
 183              	toggle_PA0_mode:
 184              	.LFB2:
  45:Core/Src/init.c **** 
  46:Core/Src/init.c **** void toggle_PA0_mode(void) {
 185              		.loc 1 46 28 is_stmt 1 view -0
 186              		.cfi_startproc
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s 			page 5


 187              		@ args = 0, pretend = 0, frame = 0
 188              		@ frame_needed = 0, uses_anonymous_args = 0
 189              		@ link register save eliminated.
  47:Core/Src/init.c ****     if (pa0_mode == 0) {
 190              		.loc 1 47 5 view .LVU54
 191              		.loc 1 47 18 is_stmt 0 view .LVU55
 192 0000 124B     		ldr	r3, .L11
 193 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 194              		.loc 1 47 8 view .LVU56
 195 0004 73B9     		cbnz	r3, .L9
  48:Core/Src/init.c ****         // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º PA0 –≤ —Ä–µ–∂–∏–º –≤—ã–≤–æ–¥–∞
  49:Core/Src/init.c ****         GPIOA_CRL = (GPIOA_CRL & GPIOA_MODE_PA0_MASK) | GPIOA_MODE_PA0_OUTPUT;
 196              		.loc 1 49 9 is_stmt 1 view .LVU57
 197              		.loc 1 49 22 is_stmt 0 view .LVU58
 198 0006 124A     		ldr	r2, .L11+4
 199 0008 D2F80038 		ldr	r3, [r2, #2048]
 200              		.loc 1 49 32 view .LVU59
 201 000c 23F00F03 		bic	r3, r3, #15
 202              		.loc 1 49 55 view .LVU60
 203 0010 43F00303 		orr	r3, r3, #3
 204              		.loc 1 49 19 view .LVU61
 205 0014 C2F80038 		str	r3, [r2, #2048]
  50:Core/Src/init.c ****         GPIOA_BSRR = GPIOA_PULLUP_PA0;  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º HIGH
 206              		.loc 1 50 9 is_stmt 1 view .LVU62
 207              		.loc 1 50 20 is_stmt 0 view .LVU63
 208 0018 0123     		movs	r3, #1
 209 001a C2F81038 		str	r3, [r2, #2064]
  51:Core/Src/init.c ****         pa0_mode = 1;
 210              		.loc 1 51 9 is_stmt 1 view .LVU64
 211              		.loc 1 51 18 is_stmt 0 view .LVU65
 212 001e 0B4A     		ldr	r2, .L11
 213 0020 1370     		strb	r3, [r2]
 214 0022 7047     		bx	lr
 215              	.L9:
  52:Core/Src/init.c ****     } else {
  53:Core/Src/init.c ****         // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º PA0 –≤ —Ä–µ–∂–∏–º –≤—Ö–æ–¥–∞
  54:Core/Src/init.c ****         GPIOA_CRL = (GPIOA_CRL & GPIOA_MODE_PA0_MASK) | GPIOA_MODE_PA0_INPUT;
 216              		.loc 1 54 9 is_stmt 1 view .LVU66
 217              		.loc 1 54 22 is_stmt 0 view .LVU67
 218 0024 0A4A     		ldr	r2, .L11+4
 219 0026 D2F80038 		ldr	r3, [r2, #2048]
 220              		.loc 1 54 32 view .LVU68
 221 002a 23F00F03 		bic	r3, r3, #15
 222              		.loc 1 54 55 view .LVU69
 223 002e 43F00803 		orr	r3, r3, #8
 224              		.loc 1 54 19 view .LVU70
 225 0032 C2F80038 		str	r3, [r2, #2048]
  55:Core/Src/init.c ****         SET_BIT(GPIOA_ODR, GPIOA_PULLUP_PA0);
 226              		.loc 1 55 9 is_stmt 1 view .LVU71
 227 0036 D2F80C38 		ldr	r3, [r2, #2060]
 228 003a 43F00103 		orr	r3, r3, #1
 229 003e C2F80C38 		str	r3, [r2, #2060]
  56:Core/Src/init.c ****         pa0_mode = 0;
 230              		.loc 1 56 9 view .LVU72
 231              		.loc 1 56 18 is_stmt 0 view .LVU73
 232 0042 024B     		ldr	r3, .L11
 233 0044 0022     		movs	r2, #0
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s 			page 6


 234 0046 1A70     		strb	r2, [r3]
  57:Core/Src/init.c ****     }
  58:Core/Src/init.c **** }...
 235              		.loc 1 58 1 view .LVU74
 236 0048 7047     		bx	lr
 237              	.L12:
 238 004a 00BF     		.align	2
 239              	.L11:
 240 004c 00000000 		.word	pa0_mode
 241 0050 00000140 		.word	1073807360
 242              		.cfi_endproc
 243              	.LFE2:
 245              		.global	pa0_mode
 246              		.section	.bss.pa0_mode,"aw",%nobits
 249              	pa0_mode:
 250 0000 00       		.space	1
 251              		.text
 252              	.Letext0:
 253              		.file 2 "D:/Programs/Education/STM32/Tools/Xpack/arm-none-eabi/include/machine/_default_types.h"
 254              		.file 3 "D:/Programs/Education/STM32/Tools/Xpack/arm-none-eabi/include/sys/_stdint.h"
 255              		.file 4 "Core/Inc/init.h"
ARM GAS  C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 init.c
C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s:19     .text.GPIO_Init:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s:25     .text.GPIO_Init:00000000 GPIO_Init
C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s:123    .text.GPIO_Init:000000a0 $d
C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s:130    .text.delay:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s:136    .text.delay:00000000 delay
C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s:177    .text.toggle_PA0_mode:00000000 $t
C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s:183    .text.toggle_PA0_mode:00000000 toggle_PA0_mode
C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s:240    .text.toggle_PA0_mode:0000004c $d
C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s:249    .bss.pa0_mode:00000000 pa0_mode
C:\Users\Dmitriy\AppData\Local\Temp\ccNQcd7A.s:250    .bss.pa0_mode:00000000 $d

NO UNDEFINED SYMBOLS
